# å­¦ä¹ ï¼šFiber Web æ¡†æ¶åŸºç¡€

## ğŸŒŸ **ä»€ä¹ˆæ˜¯ Fiberï¼Ÿ**

Fiber æ˜¯ä¸€ä¸ªå— Express.js å¯å‘çš„ Web æ¡†æ¶ï¼ŒåŸºäº Fasthttp æ„å»ºï¼ŒFasthttp æ˜¯ Go è¯­è¨€ä¸­æœ€å¿«çš„ HTTP å¼•æ“ã€‚Fiber æ—¨åœ¨ä¸ºå¿«é€Ÿå¼€å‘æä¾›ä¾¿åˆ©ï¼ŒåŒæ—¶å…¼é¡¾é›¶å†…å­˜åˆ†é…å’Œé«˜æ€§èƒ½ã€‚

### **ä¸ºä»€ä¹ˆé€‰æ‹© Fiberï¼Ÿ**
- **å¿«é€Ÿ**ï¼šåŸºäº Fasthttpï¼Œæ˜¯æœ€å¿«çš„ HTTP å¼•æ“ä¹‹ä¸€
- **ä½å†…å­˜**ï¼šé›¶å†…å­˜åˆ†é…çš„è·¯ç”±å™¨
- **ç±» Express**ï¼šå¦‚æœä½ ç†Ÿæ‚‰ Express.jsï¼Œé‚£ä¹ˆä½ å·²ç»æŒæ¡äº† Fiber
- **ä¸°å¯Œçš„ä¸­é—´ä»¶**ï¼šæä¾› 40 å¤šä¸ªä¸­é—´ä»¶åŒ…
- **å¼€å‘è€…å‹å¥½**ï¼šç®€å•çš„è·¯ç”±ã€é™æ€æ–‡ä»¶æ”¯æŒå’Œæ¨¡æ¿å¼•æ“

## ğŸ—ï¸ **æ ¸å¿ƒæ¦‚å¿µ**

### **1. App å®ä¾‹**
App å®ä¾‹æ˜¯ Fiber åº”ç”¨çš„æ ¸å¿ƒã€‚å®ƒè´Ÿè´£å¤„ç†ä¼ å…¥çš„ HTTP è¯·æ±‚ï¼Œå¹¶å°†è¯·æ±‚è·¯ç”±åˆ°ç›¸åº”çš„å¤„ç†å™¨ã€‚

```go
app := fiber.New() // åˆ›å»ºæ–°çš„ Fiber å®ä¾‹
// æˆ–è€…å¸¦é…ç½®
app := fiber.New(fiber.Config{
    Prefork: true,
    CaseSensitive: true,
})
```

### **2. HTTP æ–¹æ³•**
Fiber æ”¯æŒæ‰€æœ‰æ ‡å‡† HTTP æ–¹æ³•ï¼Œè¯­æ³•ä¸ Express ç±»ä¼¼ï¼š
- **GET**ï¼šè·å–æ•°æ®
- **POST**ï¼šåˆ›å»ºæ–°èµ„æº
- **PUT**ï¼šæ›´æ–°æ•´ä¸ªèµ„æº
- **PATCH**ï¼šéƒ¨åˆ†æ›´æ–°
- **DELETE**ï¼šåˆ é™¤èµ„æº
- **HEAD**ï¼šä»…è·å–å¤´éƒ¨ä¿¡æ¯
- **OPTIONS**ï¼šæ£€æŸ¥å…è®¸çš„æ–¹æ³•

### **3. ä¸Šä¸‹æ–‡ï¼ˆfiber.Ctxï¼‰**
ä¸Šä¸‹æ–‡æºå¸¦è¯·æ±‚æ•°æ®ï¼ŒéªŒè¯ JSONï¼Œå¹¶æ¸²æŸ“å“åº”ã€‚

```go
func handler(c *fiber.Ctx) error {
    // c åŒ…å«å…³äº HTTP è¯·æ±‚/å“åº”çš„æ‰€æœ‰ä¿¡æ¯
    return c.JSON(fiber.Map{"message": "Hello"})
}
```

## ğŸ“¡ **HTTP è¯·æ±‚/å“åº”æµç¨‹**

### **ç†è§£æµç¨‹**
1. **å®¢æˆ·ç«¯** å‘é€ HTTP è¯·æ±‚
2. **è·¯ç”±å™¨** å°† URL æ¨¡å¼åŒ¹é…åˆ°å¯¹åº”çš„å¤„ç†å™¨
3. **å¤„ç†å™¨** å¤„ç†è¯·æ±‚å¹¶å‡†å¤‡å“åº”
4. **æœåŠ¡å™¨** å°†å“åº”è¿”å›ç»™å®¢æˆ·ç«¯

### **è¯·æ±‚ç»„æˆéƒ¨åˆ†**
- **æ–¹æ³•**ï¼šGETã€POSTã€PUTã€DELETE
- **URL**ï¼š`/tasks/123`
- **å¤´ä¿¡æ¯**ï¼šContent-Typeã€Authorization
- **æ­£æ–‡**ï¼šJSONã€è¡¨å•æ•°æ®ç­‰

### **å“åº”ç»„æˆéƒ¨åˆ†**
- **çŠ¶æ€ç **ï¼š200ã€404ã€500 ç­‰
- **å¤´ä¿¡æ¯**ï¼šContent-Typeã€Cache-Control
- **æ­£æ–‡**ï¼šJSONã€HTMLã€çº¯æ–‡æœ¬

## ğŸ›£ï¸ **è·¯ç”±æ¨¡å¼**

### **é™æ€è·¯ç”±**
```go
app.Get("/", func(c *fiber.Ctx) error {
    return c.SendString("Hello, World!")
})
```

### **è·¯ç”±å‚æ•°**
```go
app.Get("/tasks/:id", func(c *fiber.Ctx) error {
    id := c.Params("id")
    return c.JSON(fiber.Map{"task_id": id})
})
```

### **æŸ¥è¯¢å‚æ•°**
```go
app.Get("/tasks", func(c *fiber.Ctx) error {
    search := c.Query("search", "")
    return c.JSON(fiber.Map{"search": search})
})
```

## ğŸ“ **è¯·æ±‚/å“åº”å¤„ç†**

### **JSON å“åº”**
```go
app.Get("/api/data", func(c *fiber.Ctx) error {
    data := map[string]interface{}{
        "message": "Success",
        "data": []string{"item1", "item2"},
    }
    return c.JSON(data)
})
```

### **JSON è§£æ**
```go
type User struct {
    Name  string `json:"name"`
    Email string `json:"email"`
}

app.Post("/users", func(c *fiber.Ctx) error {
    user := new(User)
    if err := c.BodyParser(user); err != nil {
        return c.Status(400).JSON(fiber.Map{"error": err.Error()})
    }
    return c.JSON(user)
})
```

## ğŸ”§ **å¸¸ç”¨æ–¹æ³•**

### **ä¸Šä¸‹æ–‡æ–¹æ³•**
- `c.Params(key)` - è·å–è·¯ç”±å‚æ•°
- `c.Query(key)` - è·å–æŸ¥è¯¢å‚æ•°
- `c.BodyParser(&struct)` - è§£æè¯·æ±‚ä½“
- `c.JSON(data)` - å‘é€ JSON å“åº”
- `c.Status(code)` - è®¾ç½®çŠ¶æ€ç 
- `c.SendString(text)` - å‘é€çº¯æ–‡æœ¬

### **å“åº”è¾…åŠ©æ–¹æ³•**
```go
// çŠ¶æ€ç 
c.Status(fiber.StatusOK)        // 200
c.Status(fiber.StatusNotFound)  // 404
c.Status(fiber.StatusCreated)   // 201

// JSON å“åº”
c.JSON(fiber.Map{"key": "value"})
c.Status(400).JSON(fiber.Map{"error": "Bad request"})
```

## ğŸš€ **æ€§èƒ½ä¼˜åŠ¿**

### **å†…å­˜æ•ˆç‡**
- é›¶å†…å­˜åˆ†é…çš„è·¯ç”±å™¨
- å¿«é€Ÿçš„ HTTP è§£æ
- ä½å†…å­˜å ç”¨

### **æ¡†æ¶ç‰¹æ€§**
- **åŸºäº Fasthttp**ï¼šGo è¯­è¨€é«˜æ€§èƒ½ HTTP å¼•æ“
- **ç±» Express API**ï¼šJavaScript å¼€å‘è€…ç†Ÿæ‚‰çš„ä½¿ç”¨ä½“éªŒ
- **ä¸°å¯Œçš„ç”Ÿæ€ç³»ç»Ÿ**ï¼šå¤§é‡ä¸­é—´ä»¶å’Œç¤¾åŒºæ”¯æŒ

## ğŸ“š **æœ€ä½³å®è·µ**

1. **é”™è¯¯å¤„ç†**ï¼šå§‹ç»ˆä»å¤„ç†å™¨è¿”å›é”™è¯¯
2. **çŠ¶æ€ç **ï¼šä½¿ç”¨é€‚å½“çš„ HTTP çŠ¶æ€ç 
3. **JSON éªŒè¯**ï¼šè§£æå¹¶éªŒè¯è¯·æ±‚ä½“
4. **ä¸Šä¸‹æ–‡ä½¿ç”¨**ï¼šä½¿ç”¨ä¸Šä¸‹æ–‡è¿›è¡Œè¯·æ±‚/å“åº”æ“ä½œ
5. **è·¯ç”±ç»„ç»‡**ï¼šå°†ç›¸å…³è·¯ç”±åˆ†ç»„

## ğŸ”— **æ¡†æ¶ç‰¹æ€§**

### **Fiber çš„å…³é”®ç‰¹æ€§**
- **API é£æ ¼**ï¼šå— Express.js å¯å‘çš„è¯­æ³•å’Œæ¨¡å¼
- **å­¦ä¹ æ›²çº¿**ï¼šå¯¹ç†Ÿæ‚‰ Express.js çš„å¼€å‘è€…æ¥è¯´å¾ˆå®¹æ˜“ä¸Šæ‰‹
- **å†…å­˜ä½¿ç”¨**ï¼šä¼˜åŒ–ä¸ºä½å†…å­˜å ç”¨
- **ä¸­é—´ä»¶**ï¼šæ‹¥æœ‰ä¸°å¯Œçš„å†…ç½®å’Œç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ç”Ÿæ€

## ğŸ¯ **ä¸‹ä¸€æ­¥**

æŒæ¡åŸºæœ¬è·¯ç”±åï¼Œä½ å°†å­¦ä¹ ï¼š
1. **ä¸­é—´ä»¶** - è¯·æ±‚/å“åº”å¤„ç†
2. **éªŒè¯** - è¾“å…¥éªŒè¯ä¸é”™è¯¯å¤„ç†
3. **è®¤è¯** - JWT ä»¤ç‰Œä¸å®‰å…¨æœºåˆ¶
4. **é«˜çº§åŠŸèƒ½** - ç”Ÿäº§ç¯å¢ƒå°±ç»ªçš„æ¨¡å¼